

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mlens.parallel package &mdash; mlens 0.2.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/mlens-theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/css/sphinx-glr.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="mlens 0.2.0 documentation" href="../index.html"/>
        <link rel="up" title="mlens package" href="mlens.html"/>
        <link rel="next" title="mlens.parallel.backend module" href="mlens.parallel.backend.html"/>
        <link rel="prev" title="mlens.model_selection.model_selection module" href="mlens.model_selection.model_selection.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../start/install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/install.html#bleeding-edge">Bleeding edge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/install.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/install.html#test-build">Test build</a></li>
</ul>
<p class="caption"><span class="caption-text">High-level API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/start.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/start.html#preliminaries">Preliminaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/start.html#ensemble-guide">Ensemble guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#building-an-ensemble">Building an ensemble</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#multi-layer-ensembles">Multi-layer ensembles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/start.html#model-selection-guide">Model selection guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#the-scoring-function">The scoring function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#a-simple-evaluation">A simple evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/start.html#model-selection-across-preprocessing-pipelines">Model Selection across preprocessing pipelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/start.html#visualization-guide">Visualization guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/advanced.html">Advanced features tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#propagating-input-features">Propagating input features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#probabilistic-ensemble-learning">Probabilistic ensemble learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#advanced-subsemble-techniques">Advanced Subsemble techniques</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#general-multi-layer-ensemble-learning">General multi-layer ensemble learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#passing-file-paths-as-data-input">Passing file paths as data input</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/advanced.html#ensemble-model-selection">Ensemble model selection</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../start/ensembles.html">Ready-made ensemble classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../start/ensembles.html#super-learner">Super Learner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../start/ensembles.html#references">References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../start/ensembles.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../start/ensembles.html#subsemble">Subsemble</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../start/ensembles.html#id8">References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../start/ensembles.html#id10">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../start/ensembles.html#blend-ensemble">Blend Ensemble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../start/ensembles.html#sequential-ensemble">Sequential Ensemble</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Mechanics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/learner.html">Learner Mechanics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/learner.html#the-learner-api">The Learner API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/learner.html#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/learner.html#partitioning">Partitioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/learner.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/learner.html#parallel-estimation">Parallel estimation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/layer.html">Layer Mechanics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/layer.html#the-layer-api">The Layer API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../tutorials/layer.html#basics">Basics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/parallel.html">Parallel Mechanics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/sequential.html">Sequential Mechanics</a></li>
</ul>
<p class="caption"><span class="caption-text">Details</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/memory.html">Memory consumption</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/memory.html#memory-mapping">Memory mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/memory.html#ml-ensemble-memory-profiling">ML-Ensemble memory profiling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/memory.html#memory-performance-benchmark">Memory performance benchmark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/memory.html#gotcha-s">Gotcha’s</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/benchmarks.html">Performance benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/benchmarks.html#mnist">MNIST</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../benchmarks/benchmarks.html#benchmark">Benchmark</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/benchmarks.html#the-friedman-regression-problem-1">The Friedman Regression Problem 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../benchmarks/benchmarks.html#id5">Benchmark</a></li>
<li class="toctree-l3"><a class="reference internal" href="../benchmarks/benchmarks.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/scaling.html">Scale benchmarks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/scaling.html#single-process-vs-multi-process">Single process vs multi-process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../benchmarks/scaling.html#ensemble-comparison">Ensemble comparison</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deep/dev.html">Hacking ML-Ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deep/troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../deep/troubleshooting.html#bad-interaction-with-third-party-packages">Bad interaction with third-party packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deep/troubleshooting.html#array-copying-during-fitting">Array copying during fitting</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../deep/api.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../deep/api.html#front-end-api">Front-end API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#ensemble-estimators">Ensemble estimators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#model-selection">Model Selection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../deep/api.html#low-level-api">Low-level API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#parallel-estimation-api">Parallel estimation API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#ensemble-base-classes">Ensemble Base classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../deep/api.html#indexers">Indexers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../deep/mlens_configs.html">Global configurations</a></li>
</ul>
<p class="caption"><span class="caption-text">Additional Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/updates.html">Change log</a></li>
</ul>
<p class="caption"><span class="caption-text">Package index</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">mlens</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="mlens.html">mlens package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="mlens.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mlens.ensemble.html">mlens.ensemble package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.estimators.html">mlens.estimators package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.index.html">mlens.index package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.metrics.html">mlens.metrics package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.model_selection.html">mlens.model_selection package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">mlens.parallel package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.preprocessing.html">mlens.preprocessing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.testing.html">mlens.testing package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.utils.html">mlens.utils package</a></li>
<li class="toctree-l4"><a class="reference internal" href="mlens.visualization.html">mlens.visualization package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mlens.html#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="mlens.config.html">mlens.config module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mlens.html#module-mlens">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mlens</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">mlens</a> &raquo;</li>
        
          <li><a href="mlens.html">mlens package</a> &raquo;</li>
        
      <li>mlens.parallel package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/module/mlens.parallel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mlens-parallel-package">
<h1>mlens.parallel package<a class="headerlink" href="#mlens-parallel-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.backend.html">mlens.parallel.backend module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.base.html">mlens.parallel.base module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.handles.html">mlens.parallel.handles module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.layer.html">mlens.parallel.layer module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.learner.html">mlens.parallel.learner module</a></li>
<li class="toctree-l1"><a class="reference internal" href="mlens.parallel.wrapper.html">mlens.parallel.wrapper module</a></li>
</ul>
</div>
</div>
<div class="section" id="module-mlens.parallel">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-mlens.parallel" title="Permalink to this headline">¶</a></h2>
<p>ML-ENSEMBLE</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Sebastian Flennerhag</td>
</tr>
<tr class="field-even field"><th class="field-name">copyright:</th><td class="field-body">2017</td>
</tr>
<tr class="field-odd field"><th class="field-name">license:</th><td class="field-body">MIT</td>
</tr>
</tbody>
</table>
<p>Computational graph module for memory-neutral parallel processing of
deep general-purpose ensembles.</p>
<dl class="class">
<dt id="mlens.parallel.ParallelProcessing">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">ParallelProcessing</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelProcessing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelProcessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.backend.BaseProcessor</span></code></a></p>
<p>Parallel processing engine.</p>
<p>Engine for running computational graph.</p>
<p><a class="reference internal" href="#mlens.parallel.ParallelProcessing" title="mlens.parallel.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a> is a manager for executing a sequence of tasks
in a given caller, where each task is run sequentially, but assumed to be
parallelized internally. The main responsibility of
<a class="reference internal" href="#mlens.parallel.ParallelProcessing" title="mlens.parallel.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a> is to handle memory-mapping, estimation
cache updates, input and output array updates and output collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>obj</em>) – the caller of the job. Either a Layer or a meta layer class
such as Sequential.</li>
<li><strong>*args</strong> (<em>optional</em>) – Optional arguments to <a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">BaseProcessor</span></code></a></li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Optional keyword arguments to
<a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">BaseProcessor</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.ParallelProcessing.get_preds">
<code class="descname">get_preds</code><span class="sig-paren">(</span><em>dtype=None</em>, <em>order='C'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelProcessing.get_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelProcessing.get_preds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prediction matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dtype</strong> (<em>numpy dtype object</em><em>, </em><em>optional</em>) – data type to return</li>
<li><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default = 'C'</em><em>)</em>) – data order. See <code class="xref py py-class docutils literal"><span class="pre">numpy.asarray</span></code> for details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>P</strong> – Prediction array</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.ParallelProcessing.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>path=None</em>, <em>return_preds=False</em>, <em>wart_start=False</em>, <em>split=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelProcessing.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelProcessing.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel task mapping.</p>
<p>Run independent tasks in caller in parallel.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, the :~mlens.parallel.backend.ParallelProcessing.map` runs
on a shallow cache, where all tasks share the same cache. As such, the
user must ensure that each task has a unique name, or cache retrieval
will be corrupted. To commit a seperate sub-cache to each task, set
<code class="docutils literal"><span class="pre">split=True</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to complete with each task. One of <code class="docutils literal"><span class="pre">'fit'</span></code>,
<code class="docutils literal"><span class="pre">'predict'</span></code> and <code class="docutils literal"><span class="pre">'transform'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
<li><strong>return_preds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – whether to return prediction ouput. If <code class="docutils literal"><span class="pre">True</span></code>, final prediction
is returned. Alternatively, pass a list of task names for which
output should be returned.</li>
<li><strong>warm_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to re-use previous input data initialization. Useful if
repeated jobs are made on the same input arrays.</li>
<li><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = False</em>) – whether to commit a separate sub-cache to each task.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional keyword arguments to pass onto each task.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.ParallelProcessing.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>caller</em>, <em>out</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelProcessing.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelProcessing.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process job.</p>
<p>Main method for processing a caller. Requires the instance to be
setup by a prior call to
<a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor.initialize" title="mlens.parallel.backend.BaseProcessor.initialize"><code class="xref py py-func docutils literal"><span class="pre">initialize()</span></code></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.ParallelProcessing.map" title="mlens.parallel.backend.ParallelProcessing.map"><code class="xref py py-func docutils literal"><span class="pre">map()</span></code></a>,
<a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.ParallelProcessing.stack" title="mlens.parallel.backend.ParallelProcessing.stack"><code class="xref py py-func docutils literal"><span class="pre">stack()</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>out</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – A dictionary with output parameters. Pass an empty dict for no
output. See
<a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor.initialize" title="mlens.parallel.backend.BaseProcessor.initialize"><code class="xref py py-func docutils literal"><span class="pre">initialize()</span></code></a> for more
details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.ParallelProcessing.stack">
<code class="descname">stack</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>path=None</em>, <em>return_preds=False</em>, <em>wart_start=False</em>, <em>split=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelProcessing.stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelProcessing.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Stacked parallel task mapping.</p>
<p>Run stacked tasks in caller in parallel.</p>
<p>This method runs a stack of tasks as a stack, where the output of
each task is the input to the next.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, the <a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.ParallelProcessing.stack" title="mlens.parallel.backend.ParallelProcessing.stack"><code class="xref py py-func docutils literal"><span class="pre">stack()</span></code></a>
method runs on a deep cache, where each tasks has a separate cache.
As such, the user must ensure that tasks don’t depend on data cached
by previous tasks. To run all tasks in a single sub-cache, set
<code class="docutils literal"><span class="pre">split=False</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to complete with each task. One of <code class="docutils literal"><span class="pre">'fit'</span></code>,
<code class="docutils literal"><span class="pre">'predict'</span></code> and <code class="docutils literal"><span class="pre">'transform'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
<li><strong>return_preds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – whether to return prediction output. If <code class="docutils literal"><span class="pre">True</span></code>, final prediction
is returned. Alternatively, pass a list of task names for which
output should be returned.</li>
<li><strong>warm_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to re-use previous input data initialization. Useful if
repeated jobs are made on the same input arrays.</li>
<li><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = True</em>) – whether to commit a separate sub-cache to each task.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional keyword arguments to pass onto each task.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.ParallelEvaluation">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">ParallelEvaluation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelEvaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelEvaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.backend.html#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.backend.BaseProcessor</span></code></a></p>
<p>Parallel cross-validation engine.</p>
<p>Minimal parallel processing engine. Similar to <a class="reference internal" href="#mlens.parallel.ParallelProcessing" title="mlens.parallel.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a>,
but offers less features, only fits the <em>callers</em> indexer, and excepts
no task output.</p>
<dl class="method">
<dt id="mlens.parallel.ParallelEvaluation.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>caller</em>, <em>case</em>, <em>X</em>, <em>y</em>, <em>path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/backend.html#ParallelEvaluation.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.ParallelEvaluation.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process caller.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable for evaluation job.s Expected caller is a
<code class="xref py py-class docutils literal"><span class="pre">Evaluator</span></code> instance.</li>
<li><strong>case</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – evaluation case to run on the evaluator. One of
<code class="docutils literal"><span class="pre">'preprocess'</span></code> and <code class="docutils literal"><span class="pre">'evaluate'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.Layer">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">Layer</code><span class="sig-paren">(</span><em>name=None</em>, <em>propagate_features=None</em>, <em>shuffle=False</em>, <em>random_state=None</em>, <em>verbose=False</em>, <em>stack=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/layer.html#Layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.OutputMixin" title="mlens.parallel.base.OutputMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.OutputMixin</span></code></a>, <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.IndexMixin" title="mlens.parallel.base.IndexMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.IndexMixin</span></code></a>, <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseStacker" title="mlens.parallel.base.BaseStacker"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseStacker</span></code></a></p>
<p>Layer of preprocessing pipes and estimators.</p>
<p>Layer is an internal class that holds a layer and its associated data
including an estimation procedure. It behaves as an estimator from an
Scikit-learn API point of view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>propagate_features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.6)"><em>range</em></a><em>, </em><em>optional</em>) – Features to propagate from the input array to the output array.
Carries input features to the output of the layer, useful for
propagating original data through several stacked layers. Propagated
features are stored in the left-most columns.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = False</em><em>)</em>) – <p>level of verbosity.</p>
<blockquote>
<div><ul>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">0</span></code> silent (same as <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">False</span></code>)</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">1</span></code> messages at start and finish (same as <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">True</span></code>)</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">2</span></code> messages for preprocessing and estimators</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">3</span></code> messages for completed job</li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">&gt;=</span> <span class="pre">10</span></code> prints to <code class="docutils literal"><span class="pre">sys.stderr</span></code>, else <code class="docutils literal"><span class="pre">sys.stdout</span></code>.</p>
</li>
<li><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = False</em><em>)</em>) – Whether to shuffle data before fitting layer.</li>
<li><strong>random_state</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – Random seed number to use for shuffling inputs</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional arguments to <code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.Layer.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/layer.html#Layer.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Layer.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect cache estimators</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.Layer.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.Layer.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross validated scores</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.Layer.indexers">
<code class="descname">indexers</code><a class="headerlink" href="#mlens.parallel.Layer.indexers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check indexer</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.Layer.learners">
<code class="descname">learners</code><a class="headerlink" href="#mlens.parallel.Layer.learners" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learners in layer</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.Layer.raw_data">
<code class="descname">raw_data</code><a class="headerlink" href="#mlens.parallel.Layer.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross validated scores</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.Layer.set_output_columns">
<code class="descname">set_output_columns</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>job</em>, <em>n_left_concats=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/layer.html#Layer.set_output_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Layer.set_output_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Compatibility method for setting learner output columns</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.Layer.transformers">
<code class="descname">transformers</code><a class="headerlink" href="#mlens.parallel.Layer.transformers" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learners in layer</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.Group">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>indexer=None</em>, <em>learners=None</em>, <em>transformers=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseEstimator" title="mlens.parallel.base.BaseEstimator"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseEstimator</span></code></a></p>
<p>A handle for learners and transformers that share a common indexer.</p>
<p>Lightweight class for pairing a set of independent learners with
a set of transformers that all share the same cross-validation strategy.
A <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> instance is an acceptable caller to
<a class="reference internal" href="#mlens.parallel.ParallelProcessing" title="mlens.parallel.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.0.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All instances will share <em>the same</em> indexer. If instances have a
different indexer, that indexer will be replaced.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">To run a <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> instance, see <a class="reference internal" href="mlens.parallel.wrapper.html#mlens.parallel.wrapper.run" title="mlens.parallel.wrapper.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a>.
To handle several groups, use the <a class="reference internal" href="mlens.parallel.layer.html#mlens.parallel.layer.Layer" title="mlens.parallel.layer.Layer"><code class="xref py py-class docutils literal"><span class="pre">Layer</span></code></a>
class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>inst</em><em>, </em><em>optional</em>) – A <a href="#id1"><span class="problematic" id="id2">:module:`mlens.index`</span></a> indexer to build learner and transformers on.
If not passed, the first indexer of the learners will be enforced
on all instances.</li>
<li><strong>learners</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>inst</em><em>, </em><em>optional</em>) – <a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> instance(s) attached to
indexer. Note that <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> overrides previous
<code class="docutils literal"><span class="pre">indexer</span></code> parameter settings.</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>inst</em><em>, </em><em>optional</em>) – <a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instance(s) attached to
indexer. Note that <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> overrides previous
<code class="docutils literal"><span class="pre">indexer</span></code> parameter settings.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of group</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Optional keyword arguments to the
<a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.BaseParallel" title="mlens.parallel.base.BaseParallel"><code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code></a> backend.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.Group.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Group.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Group.get_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.Pipeline">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">Pipeline</code><span class="sig-paren">(</span><em>pipeline</em>, <em>name=None</em>, <em>return_y=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">mlens.externals.sklearn.base.BaseEstimator</span></code></p>
<p>Transformer pipeline</p>
<p>Pipeline class for wrapping a preprocessing pipeline of transformers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pipeline</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>instance</em>) – <p>A <a class="reference internal" href="#mlens.parallel.Transformer" title="mlens.parallel.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instance or a list of
<a class="reference internal" href="#mlens.parallel.Transformer" title="mlens.parallel.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a>
instances. Accepted input formats:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="n">transformer_1</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;tr-1&quot;</span><span class="p">,</span> <span class="n">transformer_1</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;tr-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
<span class="n">option_4</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;tr-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
</pre></div>
</div>
</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of pipeline.</li>
<li><strong>return_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = False</em>) – If True, both X and y will be returned in a
<a class="reference internal" href="mlens.parallel.handles.html#mlens.parallel.handles.Pipeline.transform" title="mlens.parallel.handles.Pipeline.transform"><code class="xref py py-func docutils literal"><span class="pre">transform()</span></code></a> call.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.Pipeline.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Pipeline.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Pipeline.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.Pipeline" title="mlens.parallel.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers. The
pipeline itself does no checks on the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong> – Fitted pipeline</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.Pipeline.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Pipeline.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Pipeline.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit and transform pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.Pipeline" title="mlens.parallel.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers. The
pipeline itself does no checks on the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>X_processed</strong> (<em>array-like of shape [n_samples, n_preprocessed_features]</em>) – Preprocessed input data</li>
<li><strong>y</strong> (<em>array-like of shape [n_samples, ], optional</em>) – Preprocessed targets</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.Pipeline.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Pipeline.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Pipeline.get_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="mlens.parallel.Pipeline.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#Pipeline.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Pipeline.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.Pipeline" title="mlens.parallel.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers.
Pipeline itself does not checks the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>X_processed</strong> (<em>array-like of shape [n_samples, n_preprocessed_features]</em>) – Preprocessed input data</li>
<li><strong>y</strong> (<em>array-like of shape [n_samples, ], optional</em>) – Original or preprocessed targets, depending on the transformers.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.Learner">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">Learner</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>preprocess=None</em>, <em>attr=None</em>, <em>scorer=None</em>, <em>proba=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/learner.html#Learner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Learner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.base.html#mlens.parallel.base.ProbaMixin" title="mlens.parallel.base.ProbaMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.ProbaMixin</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner._BaseEstimator</span></code></p>
<p>Wrapper for base learners.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>estimator</strong> (<em>obj</em>) – estimator to construct learner from</li>
<li><strong>preprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>obj</em>) – preprocess transformer. Pass either the string
cache reference or the transformer instance. If the latter,
the <code class="xref py py-attr docutils literal"><span class="pre">preprocess</span></code> will refer to the transformer name.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default='predict'</em><em>)</em>) – predict attribute, typically one of ‘predict’ and ‘predict_proba’</li>
<li><strong>scorer</strong> (<em>func</em>) – function to use for scoring predictions during cross-validated
fitting.</li>
<li><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – mapping of prediction feature columns from learner to columns in
output array. Normally, this map is <code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x}</span></code>, but if the <code class="docutils literal"><span class="pre">indexer</span></code>
creates partitions, each partition needs to be mapped:
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x,</span> <span class="pre">1:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1}</span></code>. Note that if <code class="docutils literal"><span class="pre">output_columns</span></code> are not given at
initialization, the <code class="docutils literal"><span class="pre">set_output_columns</span></code> method must be called before
running estimations.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – Optional ParallelProcessing arguments. See <code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mlens.parallel.Learner.scorer">
<code class="descname">scorer</code><a class="headerlink" href="#mlens.parallel.Learner.scorer" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of scorer</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.Transformer">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">Transformer</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/learner.html#Transformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.Transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner._BaseEstimator</span></code></p>
<p>Preprocessing handler.</p>
<p>Wrapper for transformation pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a>) – indexer to use for generating fits.
Set to <code class="docutils literal"><span class="pre">None</span></code> to fit only on all data.</li>
<li><strong>estimator</strong> (<em>obj</em>) – transformation pipeline to construct learner from</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – If transformer is to be used to output data, need to
set <code class="docutils literal"><span class="pre">output_columns</span></code>. Normally, this map is
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x}</span></code>, but if the <code class="docutils literal"><span class="pre">indexer</span></code>
creates partitions, each partition needs to be mapped:
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x,</span> <span class="pre">1:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1}</span></code>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>raise_on_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to warn on non-fatal exceptions or raise an error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="mlens.parallel.EvalLearner">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">EvalLearner</code><span class="sig-paren">(</span><em>estimator</em>, <em>preprocess</em>, <em>name</em>, <em>attr</em>, <em>scorer</em>, <em>error_score=None</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/learner.html#EvalLearner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.EvalLearner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.Learner</span></code></a></p>
<p>EvalLearner is a derived class from Learner used for cross-validated
scoring of an estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>estimator</strong> (<em>obj</em>) – estimator to construct learner from</li>
<li><strong>preprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – preprocess cache refernce</li>
<li><strong>indexer</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a>) – indexer to use for generating fits.
Set to <code class="docutils literal"><span class="pre">None</span></code> to fit only on all data.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default='predict'</em><em>)</em>) – predict attribute, typically one of ‘predict’ and ‘predict_proba’</li>
<li><strong>scorer</strong> (<em>func</em>) – function to use for scoring predictions during cross-validated
fitting.</li>
<li><strong>error_score</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em> (</em><em>default = None</em><em>)</em>) – score to set if cross-validation fails. Set to <code class="docutils literal"><span class="pre">None</span></code> to raise error.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>raise_on_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to warn on non-fatal exceptions or raise an error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.EvalLearner.gen_fit">
<code class="descname">gen_fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>P=None</em>, <em>refit=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/learner.html#EvalLearner.gen_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.EvalLearner.gen_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for fitting learner on given data</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="mlens.parallel.EvalTransformer">
<em class="property">class </em><code class="descclassname">mlens.parallel.</code><code class="descname">EvalTransformer</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/learner.html#EvalTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.EvalTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.Transformer</span></code></a></p>
<p>Evaluator version of the Transformer.</p>
<p>Derived class from Transformer adapted to cross-validated grid-search.
See <a class="reference internal" href="#mlens.parallel.Transformer" title="mlens.parallel.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> for more details.</p>
</dd></dl>

<dl class="function">
<dt id="mlens.parallel.make_group">
<code class="descclassname">mlens.parallel.</code><code class="descname">make_group</code><span class="sig-paren">(</span><em>indexer</em>, <em>estimators</em>, <em>preprocessing</em>, <em>learner_kwargs=None</em>, <em>transformer_kwargs=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/handles.html#make_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.make_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating a <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> from a set learners and transformers</p>
<p>Utility function for creating mapping a set of estimators and
preprocessing pipelines to a <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> of
<a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> and
<a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>instance</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>default = None</em>) – Indexer instance to use. See <a href="#id3"><span class="problematic" id="id4">:module:`mlens.index`</span></a> for details.</li>
<li><strong>estimators</strong> (<em>dict of lists</em><em> or </em><em>list of estimators.</em>) – <p>If <code class="docutils literal"><span class="pre">preprocessing</span></code> is <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">list</span></code>, <code class="docutils literal"><span class="pre">estimators</span></code> should
be a <code class="docutils literal"><span class="pre">list</span></code>. The list can either contain estimator instances,
named tuples of estimator instances, or a combination of both.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">estimator_1</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">]</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;est-1&quot;</span><span class="p">,</span> <span class="n">estimator_1</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;est-2&quot;</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">)]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[</span><span class="n">estimator_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;est-2&quot;</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">)]</span>
</pre></div>
</div>
<p>If different preprocessing pipelines are desired, a dictionary
that maps estimators to preprocessing pipelines must be passed.
The names of the estimator dictionary must correspond to the
names of the estimator dictionary.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">preprocessing_cases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">trans_1</span><span class="p">,</span> <span class="n">trans_2</span><span class="p">]</span><span class="o">.</span>
                       <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">alt_trans_1</span><span class="p">,</span> <span class="n">alt_trans_2</span><span class="p">]}</span>

<span class="n">estimators</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_a</span><span class="p">,</span> <span class="n">est_b</span><span class="p">]</span><span class="o">.</span>
              <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_c</span><span class="p">,</span> <span class="n">est_d</span><span class="p">]}</span>
</pre></div>
</div>
<p>The lists for each dictionary entry can be any of <code class="docutils literal"><span class="pre">option_1</span></code>,
<code class="docutils literal"><span class="pre">option_2</span></code> and <code class="docutils literal"><span class="pre">option_3</span></code>.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>preprocessing <span class="classifier-delimiter">:</span> <span class="classifier">dict of lists or list, optional (default = None)</span></dt>
<dd><p class="first">preprocessing pipelines for given layer. If
the same preprocessing applies to all estimators, <code class="docutils literal"><span class="pre">preprocessing</span></code>
should be a list of transformer instances. The list can contain the
instances directly, named tuples of transformers,
or a combination of both.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">]</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;trans-1&quot;</span><span class="p">,</span> <span class="n">transformer_1</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;trans-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;trans-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
</pre></div>
</div>
<p>If different preprocessing pipelines are desired, a dictionary
that maps preprocessing pipelines must be passed. The names of the
preprocessing dictionary must correspond to the names of the
estimator dictionary.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">preprocessing_cases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">trans_1</span><span class="p">,</span> <span class="n">trans_2</span><span class="p">]</span><span class="o">.</span>
                       <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">alt_trans_1</span><span class="p">,</span> <span class="n">alt_trans_2</span><span class="p">]}</span>

<span class="n">estimators</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_a</span><span class="p">,</span> <span class="n">est_b</span><span class="p">]</span><span class="o">.</span>
              <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_c</span><span class="p">,</span> <span class="n">est_d</span><span class="p">]}</span>
</pre></div>
</div>
<p class="last">The lists for each dictionary entry can be any of <code class="docutils literal"><span class="pre">option_1</span></code>,
<code class="docutils literal"><span class="pre">option_2</span></code> and <code class="docutils literal"><span class="pre">option_3</span></code>.</p>
</dd>
<dt>transformer_kwargs <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional</span></dt>
<dd>Keyword arguments to pass to the
<a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instances.</dd>
<dt>learner_kwargs <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional</span></dt>
<dd>Keyword arguments to pass to the
<a class="reference internal" href="mlens.parallel.learner.html#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> instances.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>Name of group. Should be unique.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="mlens.parallel.run">
<code class="descclassname">mlens.parallel.</code><code class="descname">run</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>map=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/wrapper.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility for running a ParallelProcessing job on a set of callers.</p>
<p>Run is a utility mapping for setting up a ParallelProcessing job and
executing across a set of callers. By default run executes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">job</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#mlens.parallel.run" title="mlens.parallel.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> handles temporary parameter changes, for instance running
a learner with <code class="docutils literal"><span class="pre">proba=True</span></code> that has <code class="docutils literal"><span class="pre">proba=False</span></code> as default.
Similarly, instances destined to not produce output can be forced to
yield predictions by passing <code class="docutils literal"><span class="pre">return_preds=True</span></code> as a keyword argument.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To run a learner with a <code class="docutils literal"><span class="pre">preprocessing</span></code> dependency, the
instances need to be wrapped in a <a class="reference internal" href="#mlens.parallel.Group" title="mlens.parallel.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a></p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="n">learner</span><span class="p">,</span> <span class="n">transformer</span><span class="p">),</span> <span class="s1">&#39;predict&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>instance</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – A runnable instance, or a list of instances.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to run. One of <code class="docutils literal"><span class="pre">'fit'</span></code>, <code class="docutils literal"><span class="pre">'transform'</span></code>, <code class="docutils literal"><span class="pre">'predict'</span></code>.</li>
<li><strong>X</strong> (<em>array-like</em>) – input</li>
<li><strong>y</strong> (<em>array-like</em><em>, </em><em>optional</em>) – targets</li>
<li><strong>map</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to run a <a class="reference internal" href="#mlens.parallel.ParallelProcessing.map" title="mlens.parallel.ParallelProcessing.map"><code class="xref py py-func docutils literal"><span class="pre">ParallelProcessing.map()</span></code></a> job. If <code class="docutils literal"><span class="pre">False</span></code>,
will instead run a <a class="reference internal" href="#mlens.parallel.ParallelProcessing.stack" title="mlens.parallel.ParallelProcessing.stack"><code class="xref py py-func docutils literal"><span class="pre">ParallelProcessing.stack()</span></code></a> job.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Keyword arguments. <a class="reference internal" href="#mlens.parallel.run" title="mlens.parallel.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> searches for
<code class="docutils literal"><span class="pre">proba</span></code> and <code class="docutils literal"><span class="pre">return_preds</span></code> to temporarily update callers to run
desired job and return desired output. Other <code class="docutils literal"><span class="pre">kwargs</span></code> are passed
to either <code class="docutils literal"><span class="pre">map</span></code> or <code class="docutils literal"><span class="pre">stack</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="mlens.parallel.get_backend">
<code class="descclassname">mlens.parallel.</code><code class="descname">get_backend</code><span class="sig-paren">(</span><em>instance</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mlens/parallel/wrapper.html#get_backend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether backend exists and return</p>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Sebastian Flennerhag.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>