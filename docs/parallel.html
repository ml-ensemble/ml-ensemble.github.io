

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mlens.parallel &mdash; mlens 0.2.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/mlens-theme.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/sphinx-glr.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="mlens 0.2.1 documentation" href="index.html"/>
        <link rel="next" title="mlens.preprocessing" href="preprocessing.html"/>
        <link rel="prev" title="mlens.index" href="mod_index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config.html">mlens.config</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#dtype">dtype</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-dtype"><span class="hidden-section">get_dtype</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-dtype"><span class="hidden-section">set_dtype</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#tmpdir">tmpdir</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-tmpdir"><span class="hidden-section">get_tmpdir</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-tmpdir"><span class="hidden-section">set_tmpdir</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#backend">backend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-backend"><span class="hidden-section">get_backend</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-backend"><span class="hidden-section">set_backend</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#start-method">start_method</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-start-method"><span class="hidden-section">get_start_method</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-start-method"><span class="hidden-section">set_start_method</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#prefix">prefix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-prefix"><span class="hidden-section">get_prefix</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-prefix"><span class="hidden-section">set_prefix</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#ivals">ivals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#get-ivals"><span class="hidden-section">get_ivals</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="config.html#set-ivals"><span class="hidden-section">set_ivals</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="config.html#utility">Utility</a><ul>
<li class="toctree-l3"><a class="reference internal" href="config.html#clear-cache"><span class="hidden-section">clear_cache</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ensemble.html">mlens.ensemble</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ensemble.html#base-ensemble-classes">Base ensemble classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#sequential"><span class="hidden-section">Sequential</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#baseensemble"><span class="hidden-section">BaseEnsemble</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ensemble.html#ready-made-ensemble-classes">Ready-made ensemble classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#superlearner"><span class="hidden-section">SuperLearner</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#subsemble"><span class="hidden-section">Subsemble</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#blendensemble"><span class="hidden-section">BlendEnsemble</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="ensemble.html#id7"><span class="hidden-section">Sequential</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="estimators.html">mlens.estimators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="estimators.html#baseestimator"><span class="hidden-section">BaseEstimator</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="estimators.html#learnerestimator"><span class="hidden-section">LearnerEstimator</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="estimators.html#transformerestimator"><span class="hidden-section">TransformerEstimator</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="estimators.html#layerensemble"><span class="hidden-section">LayerEnsemble</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="model_selection.html">mlens.model_selection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model_selection.html#baseeval"><span class="hidden-section">BaseEval</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="model_selection.html#evaluator"><span class="hidden-section">Evaluator</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="model_selection.html#benchmark"><span class="hidden-section">Benchmark</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="model_selection.html#id1"><span class="hidden-section">benchmark</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mod_index.html">mlens.index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mod_index.html#indexers">Indexers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#baseindex"><span class="hidden-section">BaseIndex</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#foldindex"><span class="hidden-section">FoldIndex</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#blendindex"><span class="hidden-section">BlendIndex</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#subsetindex"><span class="hidden-section">SubsetIndex</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#clusteredsubsetindex"><span class="hidden-section">ClusteredSubsetIndex</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#fullindex"><span class="hidden-section">FullIndex</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mod_index.html#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#prune-train"><span class="hidden-section">prune_train</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#partition"><span class="hidden-section">partition</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="mod_index.html#make-tuple"><span class="hidden-section">make_tuple</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">mlens.parallel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#graph-nodes">Graph Nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#layer"><span class="hidden-section">Layer</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#learner"><span class="hidden-section">Learner</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#transformer"><span class="hidden-section">Transformer</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#evallearner"><span class="hidden-section">EvalLearner</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#evaltransformer"><span class="hidden-section">EvalTransformer</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#basenode"><span class="hidden-section">BaseNode</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#sublearner"><span class="hidden-section">SubLearner</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#subtransformer"><span class="hidden-section">SubTransformer</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#evalsubtransformer"><span class="hidden-section">EvalSubTransformer</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexedestimator"><span class="hidden-section">IndexedEstimator</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cache"><span class="hidden-section">Cache</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#handles">Handles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#group"><span class="hidden-section">Group</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline"><span class="hidden-section">Pipeline</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-group"><span class="hidden-section">make_group</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wrappers">Wrappers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#estimatormixin"><span class="hidden-section">EstimatorMixin</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#run"><span class="hidden-section">run</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#backend">Backend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#baseprocessor"><span class="hidden-section">BaseProcessor</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallelprocessing"><span class="hidden-section">ParallelProcessing</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallelevaluation"><span class="hidden-section">ParallelEvaluation</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#job"><span class="hidden-section">Job</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dump-array"><span class="hidden-section">dump_array</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#base-classes">Base classes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basebackend"><span class="hidden-section">BaseBackend</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#baseparallel"><span class="hidden-section">BaseParallel</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#baseestimator"><span class="hidden-section">BaseEstimator</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#basestacker"><span class="hidden-section">BaseStacker</span></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mixins">Mixins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parammixin"><span class="hidden-section">ParamMixin</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#indexmixin"><span class="hidden-section">IndexMixin</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#outputmixin"><span class="hidden-section">OutputMixin</span></a></li>
<li class="toctree-l3"><a class="reference internal" href="#probamixin"><span class="hidden-section">ProbaMixin</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">mlens.preprocessing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preprocessing.html#subset"><span class="hidden-section">Subset</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="preprocessing.html#shift"><span class="hidden-section">Shift</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">mlens.metrics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#data"><span class="hidden-section">Data</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#assemble-data"><span class="hidden-section">assemble_data</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#assemble-table"><span class="hidden-section">assemble_table</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#make-scorer"><span class="hidden-section">make_scorer</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#rmse"><span class="hidden-section">rmse</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#mape"><span class="hidden-section">mape</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html#wape"><span class="hidden-section">wape</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">mlens.visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#corrmat"><span class="hidden-section">corrmat</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#clustered-corrmap"><span class="hidden-section">clustered_corrmap</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#corr-x-y"><span class="hidden-section">corr_X_y</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#pca-plot"><span class="hidden-section">pca_plot</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#pca-comp-plot"><span class="hidden-section">pca_comp_plot</span></a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#exp-var-plot"><span class="hidden-section">exp_var_plot</span></a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mlens</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>mlens.parallel</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/parallel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-mlens.parallel"></span><p>ML-ENSEMBLE</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Sebastian Flennerhag</td>
</tr>
<tr class="field-even field"><th class="field-name">copyright:</th><td class="field-body">2017</td>
</tr>
<tr class="field-odd field"><th class="field-name">license:</th><td class="field-body">MIT</td>
</tr>
</tbody>
</table>
<p>Computational graph module for memory-neutral parallel processing of
deep general-purpose ensembles.</p>
<p>Implements backend graph managers, base classes for interacting with graph
managers, and job managers for preprocessing pipelines and estimators, as well
as handles for multiple instances and wrappers for standard parallel job calls.</p>
<div class="section" id="mlens-parallel">
<h1>mlens.parallel<a class="headerlink" href="#mlens-parallel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="graph-nodes">
<h2>Graph Nodes<a class="headerlink" href="#graph-nodes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="layer">
<h3><span class="hidden-section">Layer</span><a class="headerlink" href="#layer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.layer.Layer">
<em class="property">class </em><code class="descclassname">mlens.parallel.layer.</code><code class="descname">Layer</code><span class="sig-paren">(</span><em>name=None</em>, <em>propagate_features=None</em>, <em>shuffle=False</em>, <em>random_state=None</em>, <em>verbose=False</em>, <em>stack=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/layer.html#Layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.layer.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.OutputMixin" title="mlens.parallel.base.OutputMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.OutputMixin</span></code></a>, <a class="reference internal" href="#mlens.parallel.base.IndexMixin" title="mlens.parallel.base.IndexMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.IndexMixin</span></code></a>, <a class="reference internal" href="#mlens.parallel.base.BaseStacker" title="mlens.parallel.base.BaseStacker"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseStacker</span></code></a></p>
<p>Layer of preprocessing pipes and estimators.</p>
<p>Layer is an internal class that holds a layer and its associated data
including an estimation procedure. It behaves as an estimator from an
Scikit-learn API point of view.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>propagate_features</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#range" title="(in Python v3.6)"><em>range</em></a><em>, </em><em>optional</em>) – Features to propagate from the input array to the output array.
Carries input features to the output of the layer, useful for
propagating original data through several stacked layers. Propagated
features are stored in the left-most columns.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = False</em><em>)</em>) – <p>level of verbosity.</p>
<blockquote>
<div><ul>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">0</span></code> silent (same as <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">False</span></code>)</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">1</span></code> messages at start and finish (same as <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">True</span></code>)</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">2</span></code> messages for preprocessing and estimators</li>
<li><code class="docutils literal"><span class="pre">verbose</span> <span class="pre">=</span> <span class="pre">3</span></code> messages for completed job</li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal"><span class="pre">verbose</span> <span class="pre">&gt;=</span> <span class="pre">10</span></code> prints to <code class="docutils literal"><span class="pre">sys.stderr</span></code>, else <code class="docutils literal"><span class="pre">sys.stdout</span></code>.</p>
</li>
<li><strong>shuffle</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = False</em><em>)</em>) – Whether to shuffle data before fitting layer.</li>
<li><strong>random_state</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – Random seed number to use for shuffling inputs</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional arguments to <code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.layer.Layer.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/layer.html#Layer.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.layer.Layer.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect cache estimators</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.layer.Layer.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.layer.Layer.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross validated scores</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.layer.Layer.indexers">
<code class="descname">indexers</code><a class="headerlink" href="#mlens.parallel.layer.Layer.indexers" title="Permalink to this definition">¶</a></dt>
<dd><p>Check indexer</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.layer.Layer.learners">
<code class="descname">learners</code><a class="headerlink" href="#mlens.parallel.layer.Layer.learners" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learners in layer</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.layer.Layer.raw_data">
<code class="descname">raw_data</code><a class="headerlink" href="#mlens.parallel.layer.Layer.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Cross validated scores</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.layer.Layer.set_output_columns">
<code class="descname">set_output_columns</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>job</em>, <em>n_left_concats=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/layer.html#Layer.set_output_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.layer.Layer.set_output_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Compatibility method for setting learner output columns</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.layer.Layer.transformers">
<code class="descname">transformers</code><a class="headerlink" href="#mlens.parallel.layer.Layer.transformers" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learners in layer</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="learner">
<h3><span class="hidden-section">Learner</span><a class="headerlink" href="#learner" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.Learner">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">Learner</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>preprocess=None</em>, <em>attr=None</em>, <em>scorer=None</em>, <em>proba=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#Learner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.Learner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.ProbaMixin" title="mlens.parallel.base.ProbaMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.ProbaMixin</span></code></a>, <a class="reference internal" href="#mlens.parallel.learner.BaseNode" title="mlens.parallel.learner.BaseNode"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.BaseNode</span></code></a></p>
<p>Wrapper for base learners.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>estimator</strong> (<em>obj</em>) – estimator to construct learner from</li>
<li><strong>preprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>obj</em>) – preprocess transformer. Pass either the string
cache reference or the transformer instance. If the latter,
the <code class="xref py py-attr docutils literal"><span class="pre">preprocess</span></code> will refer to the transformer name.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default='predict'</em><em>)</em>) – predict attribute, typically one of ‘predict’ and ‘predict_proba’</li>
<li><strong>scorer</strong> (<em>func</em>) – function to use for scoring predictions during cross-validated
fitting.</li>
<li><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – mapping of prediction feature columns from learner to columns in
output array. Normally, this map is <code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x}</span></code>, but if the <code class="docutils literal"><span class="pre">indexer</span></code>
creates partitions, each partition needs to be mapped:
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x,</span> <span class="pre">1:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1}</span></code>. Note that if <code class="docutils literal"><span class="pre">output_columns</span></code> are not given at
initialization, the <code class="docutils literal"><span class="pre">set_output_columns</span></code> method must be called before
running estimations.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>**kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – Optional ParallelProcessing arguments. See <code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="mlens.parallel.learner.Learner.scorer">
<code class="descname">scorer</code><a class="headerlink" href="#mlens.parallel.learner.Learner.scorer" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of scorer</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="transformer">
<h3><span class="hidden-section">Transformer</span><a class="headerlink" href="#transformer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.Transformer">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">Transformer</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#Transformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.Transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.learner.BaseNode" title="mlens.parallel.learner.BaseNode"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.BaseNode</span></code></a></p>
<p>Preprocessing handler.</p>
<p>Wrapper for transformation pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a>) – indexer to use for generating fits.
Set to <code class="docutils literal"><span class="pre">None</span></code> to fit only on all data.</li>
<li><strong>estimator</strong> (<em>obj</em>) – transformation pipeline to construct learner from</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>output_columns</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – If transformer is to be used to output data, need to
set <code class="docutils literal"><span class="pre">output_columns</span></code>. Normally, this map is
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x}</span></code>, but if the <code class="docutils literal"><span class="pre">indexer</span></code>
creates partitions, each partition needs to be mapped:
<code class="docutils literal"><span class="pre">{0:</span> <span class="pre">x,</span> <span class="pre">1:</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1}</span></code>.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>raise_on_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to warn on non-fatal exceptions or raise an error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="evallearner">
<h3><span class="hidden-section">EvalLearner</span><a class="headerlink" href="#evallearner" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.EvalLearner">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">EvalLearner</code><span class="sig-paren">(</span><em>estimator</em>, <em>preprocess</em>, <em>name</em>, <em>attr</em>, <em>scorer</em>, <em>error_score=None</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#EvalLearner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.EvalLearner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.Learner</span></code></a></p>
<p>EvalLearner is a derived class from Learner used for cross-validated
scoring of an estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>estimator</strong> (<em>obj</em>) – estimator to construct learner from</li>
<li><strong>preprocess</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – preprocess cache refernce</li>
<li><strong>indexer</strong> (<em>obj</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a>) – indexer to use for generating fits.
Set to <code class="docutils literal"><span class="pre">None</span></code> to fit only on all data.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of learner. If <code class="docutils literal"><span class="pre">preprocess</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>,
the name will be prepended to <code class="docutils literal"><span class="pre">preprocess__name</span></code>.</li>
<li><strong>attr</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default='predict'</em><em>)</em>) – predict attribute, typically one of ‘predict’ and ‘predict_proba’</li>
<li><strong>scorer</strong> (<em>func</em>) – function to use for scoring predictions during cross-validated
fitting.</li>
<li><strong>error_score</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em> (</em><em>default = None</em><em>)</em>) – score to set if cross-validation fails. Set to <code class="docutils literal"><span class="pre">None</span></code> to raise error.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = False</em><em>)</em>) – whether to report completed fits.</li>
<li><strong>raise_on_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to warn on non-fatal exceptions or raise an error.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.learner.EvalLearner.gen_fit">
<code class="descname">gen_fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>P=None</em>, <em>refit=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#EvalLearner.gen_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.EvalLearner.gen_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for fitting learner on given data</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evaltransformer">
<h3><span class="hidden-section">EvalTransformer</span><a class="headerlink" href="#evaltransformer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.EvalTransformer">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">EvalTransformer</code><span class="sig-paren">(</span><em>estimator</em>, <em>indexer=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#EvalTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.EvalTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.Transformer</span></code></a></p>
<p>Evaluator version of the Transformer.</p>
<p>Derived class from Transformer adapted to cross-validated grid-search.
See <a class="reference internal" href="#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> for more details.</p>
</dd></dl>

</div>
<div class="section" id="basenode">
<h3><span class="hidden-section">BaseNode</span><a class="headerlink" href="#basenode" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.BaseNode">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">BaseNode</code><span class="sig-paren">(</span><em>name</em>, <em>estimator</em>, <em>indexer=None</em>, <em>verbose=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.OutputMixin" title="mlens.parallel.base.OutputMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.OutputMixin</span></code></a>, <a class="reference internal" href="#mlens.parallel.base.IndexMixin" title="mlens.parallel.base.IndexMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.IndexMixin</span></code></a>, <a class="reference internal" href="#mlens.parallel.base.BaseEstimator" title="mlens.parallel.base.BaseEstimator"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseEstimator</span></code></a></p>
<p>Base computational node inherited by job generators.</p>
<p>Common API for job generators. A class that inherits the base
need to set a <code class="docutils literal"><span class="pre">__subtype__</span></code> in the constructor. The sub-type should be
the class that runs estimations and must implement a <code class="docutils literal"><span class="pre">__call__</span></code>,
<code class="docutils literal"><span class="pre">fit</span></code>, <code class="docutils literal"><span class="pre">transform</span></code> and <code class="docutils literal"><span class="pre">predict</span></code> method.</p>
<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear load</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.cloned_estimator">
<code class="descname">cloned_estimator</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.cloned_estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy of estimator</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.collect">
<code class="descname">collect</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.collect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.collect" title="Permalink to this definition">¶</a></dt>
<dd><p>Load fitted estimator from cache</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – path to cache.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary with aggregated data from fitting sub-learners.</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.gen_fit">
<code class="descname">gen_fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>P=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.gen_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.gen_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine for generating fit jobs conditional on refit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input array</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em>) – targets</li>
<li><strong>P</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_prediction_features</em><em>]</em><em>, </em><em>optional</em>) – output array to populate. Must be writeable. Only pass if
predictions are desired.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.gen_predict">
<code class="descname">gen_predict</code><span class="sig-paren">(</span><em>X</em>, <em>P=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.gen_predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.gen_predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate predicting jobs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input array</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em>) – targets</li>
<li><strong>P</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_prediction_features</em><em>]</em><em>, </em><em>optional</em>) – output array to populate. Must be writeable. Only pass if
predictions are desired.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.gen_transform">
<code class="descname">gen_transform</code><span class="sig-paren">(</span><em>X</em>, <em>P=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.gen_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.gen_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate cross-validated predict jobs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input array</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em>) – targets</li>
<li><strong>P</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_prediction_features</em><em>]</em><em>, </em><em>optional</em>) – output array to populate. Must be writeable. Only pass if
predictions are desired.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.learner">
<code class="descname">learner</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.learner" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learner fitted on full data</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.raw_data">
<code class="descname">raw_data</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>List of data collected from each sub-learner during fitting.</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.set_indexer">
<code class="descname">set_indexer</code><span class="sig-paren">(</span><em>indexer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.set_indexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.set_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Set indexer and auxiliary attributes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>indexer</strong> (<em>obj</em>) – indexer to build instance with.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.BaseNode.set_output_columns">
<code class="descname">set_output_columns</code><span class="sig-paren">(</span><em>X=None</em>, <em>y=None</em>, <em>job=None</em>, <em>n_left_concats=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#BaseNode.set_output_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.BaseNode.set_output_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the output_columns attribute</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.sublearners">
<code class="descname">sublearners</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.sublearners" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator for learner fitted on folds</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.learner.BaseNode.times">
<code class="descname">times</code><a class="headerlink" href="#mlens.parallel.learner.BaseNode.times" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit and predict times for the final learners</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sublearner">
<h3><span class="hidden-section">SubLearner</span><a class="headerlink" href="#sublearner" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.SubLearner">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">SubLearner</code><span class="sig-paren">(</span><em>job</em>, <em>parent</em>, <em>estimator</em>, <em>in_index</em>, <em>out_index</em>, <em>in_array</em>, <em>targets</em>, <em>out_array</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubLearner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubLearner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Estimation task</p>
<p>Wrapper around a sub_learner job.</p>
<dl class="attribute">
<dt id="mlens.parallel.learner.SubLearner.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.learner.SubLearner.data" title="Permalink to this definition">¶</a></dt>
<dd><p>fit data</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubLearner.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubLearner.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubLearner.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit sub-learner</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubLearner.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubLearner.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubLearner.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict with sublearner</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubLearner.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubLearner.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubLearner.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict with sublearner</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="subtransformer">
<h3><span class="hidden-section">SubTransformer</span><a class="headerlink" href="#subtransformer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.SubTransformer">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">SubTransformer</code><span class="sig-paren">(</span><em>job</em>, <em>parent</em>, <em>estimator</em>, <em>in_index</em>, <em>in_array</em>, <em>targets</em>, <em>index</em>, <em>out_index=None</em>, <em>out_array=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubTransformer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Sub-routine for fitting a pipeline</p>
<dl class="attribute">
<dt id="mlens.parallel.learner.SubTransformer.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.learner.SubTransformer.data" title="Permalink to this definition">¶</a></dt>
<dd><p>fit data</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubTransformer.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubTransformer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit transformers</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubTransformer.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubTransformer.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubTransformer.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump transformers for prediction</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.SubTransformer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#SubTransformer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.SubTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump transformers for prediction</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="evalsubtransformer">
<h3><span class="hidden-section">EvalSubTransformer</span><a class="headerlink" href="#evalsubtransformer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.EvalSubLearner">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">EvalSubLearner</code><span class="sig-paren">(</span><em>job</em>, <em>parent</em>, <em>estimator</em>, <em>in_index</em>, <em>out_index</em>, <em>in_array</em>, <em>targets</em>, <em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#EvalSubLearner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.EvalSubLearner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.learner.SubLearner" title="mlens.parallel.learner.SubLearner"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.learner.SubLearner</span></code></a></p>
<p>sub-routine for cross-validated evaluation.</p>
<dl class="attribute">
<dt id="mlens.parallel.learner.EvalSubLearner.data">
<code class="descname">data</code><a class="headerlink" href="#mlens.parallel.learner.EvalSubLearner.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Score data</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.learner.EvalSubLearner.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#EvalSubLearner.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.EvalSubLearner.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate sub-learner</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indexedestimator">
<h3><span class="hidden-section">IndexedEstimator</span><a class="headerlink" href="#indexedestimator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.IndexedEstimator">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">IndexedEstimator</code><span class="sig-paren">(</span><em>estimator</em>, <em>name</em>, <em>index</em>, <em>in_index</em>, <em>out_index</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#IndexedEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.IndexedEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Indexed Estimator</p>
<p>Lightweight wrapper around estimator dumps during fitting.</p>
<dl class="attribute">
<dt id="mlens.parallel.learner.IndexedEstimator.estimator">
<code class="descname">estimator</code><a class="headerlink" href="#mlens.parallel.learner.IndexedEstimator.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy of estimator</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="cache">
<h3><span class="hidden-section">Cache</span><a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.learner.Cache">
<em class="property">class </em><code class="descclassname">mlens.parallel.learner.</code><code class="descname">Cache</code><span class="sig-paren">(</span><em>obj</em>, <em>path</em>, <em>verbose</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/learner.html#Cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.learner.Cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Cache wrapper for IndexedEstimator</p>
</dd></dl>

</div>
</div>
<div class="section" id="handles">
<h2>Handles<a class="headerlink" href="#handles" title="Permalink to this headline">¶</a></h2>
<div class="section" id="group">
<h3><span class="hidden-section">Group</span><a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.handles.Group">
<em class="property">class </em><code class="descclassname">mlens.parallel.handles.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>indexer=None</em>, <em>learners=None</em>, <em>transformers=None</em>, <em>name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#Group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.BaseEstimator" title="mlens.parallel.base.BaseEstimator"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseEstimator</span></code></a></p>
<p>A handle for learners and transformers that share a common indexer.</p>
<p>Lightweight class for pairing a set of independent learners with
a set of transformers that all share the same cross-validation strategy.
A <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> instance is an acceptable caller to
<code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.0.</span></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">All instances will share <em>the same</em> indexer. If instances have a
different indexer, that indexer will be replaced.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">To run a <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> instance, see <a class="reference internal" href="#mlens.parallel.wrapper.run" title="mlens.parallel.wrapper.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a>.
To handle several groups, use the <a class="reference internal" href="#mlens.parallel.layer.Layer" title="mlens.parallel.layer.Layer"><code class="xref py py-class docutils literal"><span class="pre">Layer</span></code></a>
class.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>inst</em><em>, </em><em>optional</em>) – A <a class="reference internal" href="mod_index.html#module-mlens.index" title="mlens.index"><code class="xref py py-obj docutils literal"><span class="pre">index</span></code></a> indexer to build learner and transformers on.
If not passed, the first indexer of the learners will be enforced
on all instances.</li>
<li><strong>learners</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>inst</em><em>, </em><em>optional</em>) – <a class="reference internal" href="#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> instance(s) attached to
indexer. Note that <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> overrides previous
<code class="docutils literal"><span class="pre">indexer</span></code> parameter settings.</li>
<li><strong>transformers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>inst</em><em>, </em><em>optional</em>) – <a class="reference internal" href="#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instance(s) attached to
indexer. Note that <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> overrides previous
<code class="docutils literal"><span class="pre">indexer</span></code> parameter settings.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of group</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Optional keyword arguments to the
<a class="reference internal" href="#mlens.parallel.base.BaseParallel" title="mlens.parallel.base.BaseParallel"><code class="xref py py-class docutils literal"><span class="pre">BaseParallel</span></code></a> backend.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="pipeline">
<h3><span class="hidden-section">Pipeline</span><a class="headerlink" href="#pipeline" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.handles.Pipeline">
<em class="property">class </em><code class="descclassname">mlens.parallel.handles.</code><code class="descname">Pipeline</code><span class="sig-paren">(</span><em>pipeline</em>, <em>name=None</em>, <em>return_y=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">mlens.externals.sklearn.base.BaseEstimator</span></code></p>
<p>Transformer pipeline</p>
<p>Pipeline class for wrapping a preprocessing pipeline of transformers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pipeline</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>instance</em>) – <p>A <code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code> instance or a list of
<code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code>
instances. Accepted input formats:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="n">transformer_1</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;tr-1&quot;</span><span class="p">,</span> <span class="n">transformer_1</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;tr-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
<span class="n">option_4</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;tr-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
</pre></div>
</div>
</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – name of pipeline.</li>
<li><strong>return_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = False</em>) – If True, both X and y will be returned in a
<a class="reference internal" href="#mlens.parallel.handles.Pipeline.transform" title="mlens.parallel.handles.Pipeline.transform"><code class="xref py py-func docutils literal"><span class="pre">transform()</span></code></a> call.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.handles.Pipeline.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#Pipeline.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.Pipeline.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.handles.Pipeline" title="mlens.parallel.handles.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers. The
pipeline itself does no checks on the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong> – Fitted pipeline</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.handles.Pipeline.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#Pipeline.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.Pipeline.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit and transform pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.handles.Pipeline" title="mlens.parallel.handles.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers. The
pipeline itself does no checks on the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>X_processed</strong> (<em>array-like of shape [n_samples, n_preprocessed_features]</em>) – Preprocessed input data</li>
<li><strong>y</strong> (<em>array-like of shape [n_samples, ], optional</em>) – Preprocessed targets</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.handles.Pipeline.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>X</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#Pipeline.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.Pipeline.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform pipeline.</p>
<p>Note that the <a class="reference internal" href="#mlens.parallel.handles.Pipeline" title="mlens.parallel.handles.Pipeline"><code class="xref py py-class docutils literal"><span class="pre">Pipeline</span></code></a> accepts both X and y arguments, and
can return both X and y, depending on the transformers.
Pipeline itself does not checks the input.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>]</em>) – Targets</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>X_processed</strong> (<em>array-like of shape [n_samples, n_preprocessed_features]</em>) – Preprocessed input data</li>
<li><strong>y</strong> (<em>array-like of shape [n_samples, ], optional</em>) – Original or preprocessed targets, depending on the transformers.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="make-group">
<h3><span class="hidden-section">make_group</span><a class="headerlink" href="#make-group" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mlens.parallel.handles.make_group">
<code class="descclassname">mlens.parallel.handles.</code><code class="descname">make_group</code><span class="sig-paren">(</span><em>indexer</em>, <em>estimators</em>, <em>preprocessing</em>, <em>learner_kwargs=None</em>, <em>transformer_kwargs=None</em>, <em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/handles.html#make_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.handles.make_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Creating a <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> from a set learners and transformers</p>
<p>Utility function for creating mapping a set of estimators and
preprocessing pipelines to a <a class="reference internal" href="#mlens.parallel.handles.Group" title="mlens.parallel.handles.Group"><code class="xref py py-class docutils literal"><span class="pre">Group</span></code></a> of
<a class="reference internal" href="#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> and
<a class="reference internal" href="#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indexer</strong> (<em>instance</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><em>None</em></a><em>, </em><em>default = None</em>) – Indexer instance to use. See <a class="reference internal" href="mod_index.html#module-mlens.index" title="mlens.index"><code class="xref py py-obj docutils literal"><span class="pre">index</span></code></a> for details.</li>
<li><strong>estimators</strong> (<em>dict of lists</em><em> or </em><em>list of estimators.</em>) – <p>If <code class="docutils literal"><span class="pre">preprocessing</span></code> is <code class="docutils literal"><span class="pre">None</span></code> or <code class="docutils literal"><span class="pre">list</span></code>, <code class="docutils literal"><span class="pre">estimators</span></code> should
be a <code class="docutils literal"><span class="pre">list</span></code>. The list can either contain estimator instances,
named tuples of estimator instances, or a combination of both.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">estimator_1</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">]</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;est-1&quot;</span><span class="p">,</span> <span class="n">estimator_1</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;est-2&quot;</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">)]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[</span><span class="n">estimator_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;est-2&quot;</span><span class="p">,</span> <span class="n">estimator_2</span><span class="p">)]</span>
</pre></div>
</div>
<p>If different preprocessing pipelines are desired, a dictionary
that maps estimators to preprocessing pipelines must be passed.
The names of the estimator dictionary must correspond to the
names of the estimator dictionary.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">preprocessing_cases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">trans_1</span><span class="p">,</span> <span class="n">trans_2</span><span class="p">]</span><span class="o">.</span>
                       <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">alt_trans_1</span><span class="p">,</span> <span class="n">alt_trans_2</span><span class="p">]}</span>

<span class="n">estimators</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_a</span><span class="p">,</span> <span class="n">est_b</span><span class="p">]</span><span class="o">.</span>
              <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_c</span><span class="p">,</span> <span class="n">est_d</span><span class="p">]}</span>
</pre></div>
</div>
<p>The lists for each dictionary entry can be any of <code class="docutils literal"><span class="pre">option_1</span></code>,
<code class="docutils literal"><span class="pre">option_2</span></code> and <code class="docutils literal"><span class="pre">option_3</span></code>.</p>
</li>
<li><strong>preprocessing</strong> (<em>dict of lists</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em><em>, </em><em>default = None</em>) – <p>preprocessing pipelines for given layer. If
the same preprocessing applies to all estimators, <code class="docutils literal"><span class="pre">preprocessing</span></code>
should be a list of transformer instances. The list can contain the
instances directly, named tuples of transformers,
or a combination of both.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">option_1</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">]</span>
<span class="n">option_2</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;trans-1&quot;</span><span class="p">,</span> <span class="n">transformer_1</span><span class="p">),</span>
            <span class="p">(</span><span class="s2">&quot;trans-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
<span class="n">option_3</span> <span class="o">=</span> <span class="p">[</span><span class="n">transformer_1</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;trans-2&quot;</span><span class="p">,</span> <span class="n">transformer_2</span><span class="p">)]</span>
</pre></div>
</div>
<p>If different preprocessing pipelines are desired, a dictionary
that maps preprocessing pipelines must be passed. The names of the
preprocessing dictionary must correspond to the names of the
estimator dictionary.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">preprocessing_cases</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">trans_1</span><span class="p">,</span> <span class="n">trans_2</span><span class="p">]</span><span class="o">.</span>
                       <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">alt_trans_1</span><span class="p">,</span> <span class="n">alt_trans_2</span><span class="p">]}</span>

<span class="n">estimators</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;case-1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_a</span><span class="p">,</span> <span class="n">est_b</span><span class="p">]</span><span class="o">.</span>
              <span class="s2">&quot;case-2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">est_c</span><span class="p">,</span> <span class="n">est_d</span><span class="p">]}</span>
</pre></div>
</div>
<p>The lists for each dictionary entry can be any of <code class="docutils literal"><span class="pre">option_1</span></code>,
<code class="docutils literal"><span class="pre">option_2</span></code> and <code class="docutils literal"><span class="pre">option_3</span></code>.</p>
</li>
<li><strong>transformer_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Keyword arguments to pass to the
<a class="reference internal" href="#mlens.parallel.learner.Transformer" title="mlens.parallel.learner.Transformer"><code class="xref py py-class docutils literal"><span class="pre">Transformer</span></code></a> instances.</li>
<li><strong>learner_kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Keyword arguments to pass to the
<a class="reference internal" href="#mlens.parallel.learner.Learner" title="mlens.parallel.learner.Learner"><code class="xref py py-class docutils literal"><span class="pre">Learner</span></code></a> instances.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Name of group. Should be unique.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="wrappers">
<h2>Wrappers<a class="headerlink" href="#wrappers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="estimatormixin">
<h3><span class="hidden-section">EstimatorMixin</span><a class="headerlink" href="#estimatormixin" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.wrapper.EstimatorMixin">
<em class="property">class </em><code class="descclassname">mlens.parallel.wrapper.</code><code class="descname">EstimatorMixin</code><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#EstimatorMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.EstimatorMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Estimator mixin</p>
<p>Mixin class to build an estimator from a <a class="reference internal" href="#module-mlens.parallel" title="mlens.parallel"><code class="xref py py-mod docutils literal"><span class="pre">mlens.parallel</span></code></a> backend
class. The backend class should be set as the <code class="docutils literal"><span class="pre">_backend</span></code> attribute
of the estimator during a <code class="docutils literal"><span class="pre">fit</span></code> call via a <code class="docutils literal"><span class="pre">_build</span></code> method. E.g:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Foo</span><span class="p">(</span><span class="n">EstimatorMixin</span><span class="p">,</span> <span class="n">Learner</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">_build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_backend</span> <span class="o">=</span> <span class="n">Learner</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>It is recommended to combine <a class="reference internal" href="#mlens.parallel.wrapper.EstimatorMixin" title="mlens.parallel.wrapper.EstimatorMixin"><code class="xref py py-class docutils literal"><span class="pre">EstimatorMixin</span></code></a> with
<cite>parallel.base.ParamMixin</cite>.</p>
<dl class="method">
<dt id="mlens.parallel.wrapper.EstimatorMixin.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>proba=False</em>, <em>refit=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#EstimatorMixin.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.EstimatorMixin.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit</p>
<p>Fit estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array of size</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input data</li>
<li><strong>y</strong> (<em>array of size</em><em> [</em><em>n_features</em><em>,</em><em>]</em>) – targets</li>
<li><strong>proba</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to fit for later predict_proba calls. Will register number
of classes to expect in later predict and transform calls.</li>
<li><strong>refit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = True</em><em>)</em>) – Whether to refit already fitted sub-learners.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>self</strong> – fitted estimator.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.wrapper.EstimatorMixin.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>proba=False</em>, <em>refit=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#EstimatorMixin.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.EstimatorMixin.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit</p>
<p>Fit estimator and return cross-validated predictions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array of size</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input data</li>
<li><strong>y</strong> (<em>array of size</em><em> [</em><em>n_features</em><em>,</em><em>]</em>) – targets</li>
<li><strong>proba</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to fit for later predict_proba calls. Will register number
of classes to expect in later predict and transform calls.</li>
<li><strong>refit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = True</em><em>)</em>) – Whether to refit already fitted sub-learners.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>P</strong> – prediction generated by cross-validation.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of size [n_samples, n_prediction_features]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.wrapper.EstimatorMixin.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>X</em>, <em>proba=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#EstimatorMixin.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.EstimatorMixin.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict</p>
<p>Predict using full-fold estimator (fitted on all data).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array of size</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input data</li>
<li><strong>proba</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to predict class probabilities</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>P</strong> – prediction with full-fold estimator.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of size [n_samples, n_prediction_features]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.wrapper.EstimatorMixin.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>X</em>, <em>proba=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#EstimatorMixin.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.EstimatorMixin.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform</p>
<p>Use cross-validated estimators to generate predictions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>X</strong> (<em>array of size</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – input data</li>
<li><strong>proba</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to predict class probabilities</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>P</strong> – prediction generated by cross-validation.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array of size [n_samples, n_prediction_features]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="run">
<h3><span class="hidden-section">run</span><a class="headerlink" href="#run" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mlens.parallel.wrapper.run">
<code class="descclassname">mlens.parallel.wrapper.</code><code class="descname">run</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>map=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/wrapper.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.wrapper.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility for running a ParallelProcessing job on a set of callers.</p>
<p>Run is a utility mapping for setting up a ParallelProcessing job and
executing across a set of callers. By default run executes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">mgr</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">caller</span><span class="p">,</span> <span class="n">job</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#mlens.parallel.wrapper.run" title="mlens.parallel.wrapper.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> handles temporary parameter changes, for instance running
a learner with <code class="docutils literal"><span class="pre">proba=True</span></code> that has <code class="docutils literal"><span class="pre">proba=False</span></code> as default.
Similarly, instances destined to not produce output can be forced to
yield predictions by passing <code class="docutils literal"><span class="pre">return_preds=True</span></code> as a keyword argument.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>To run a learner with a <code class="docutils literal"><span class="pre">preprocessing</span></code> dependency, the
instances need to be wrapped in a <code class="xref py py-class docutils literal"><span class="pre">Group</span></code></p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="n">run</span><span class="p">(</span><span class="n">Group</span><span class="p">(</span><span class="n">learner</span><span class="p">,</span> <span class="n">transformer</span><span class="p">),</span> <span class="s1">&#39;predict&#39;</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>instance</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – A runnable instance, or a list of instances.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to run. One of <code class="docutils literal"><span class="pre">'fit'</span></code>, <code class="docutils literal"><span class="pre">'transform'</span></code>, <code class="docutils literal"><span class="pre">'predict'</span></code>.</li>
<li><strong>X</strong> (<em>array-like</em>) – input</li>
<li><strong>y</strong> (<em>array-like</em><em>, </em><em>optional</em>) – targets</li>
<li><strong>map</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default=True</em><em>)</em>) – whether to run a <code class="xref py py-func docutils literal"><span class="pre">ParallelProcessing.map()</span></code> job. If <code class="docutils literal"><span class="pre">False</span></code>,
will instead run a <code class="xref py py-func docutils literal"><span class="pre">ParallelProcessing.stack()</span></code> job.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Keyword arguments. <a class="reference internal" href="#mlens.parallel.wrapper.run" title="mlens.parallel.wrapper.run"><code class="xref py py-func docutils literal"><span class="pre">run()</span></code></a> searches for
<code class="docutils literal"><span class="pre">proba</span></code> and <code class="docutils literal"><span class="pre">return_preds</span></code> to temporarily update callers to run
desired job and return desired output. Other <code class="docutils literal"><span class="pre">kwargs</span></code> are passed
to either <code class="docutils literal"><span class="pre">map</span></code> or <code class="docutils literal"><span class="pre">stack</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="backend">
<h2>Backend<a class="headerlink" href="#backend" title="Permalink to this headline">¶</a></h2>
<div class="section" id="baseprocessor">
<h3><span class="hidden-section">BaseProcessor</span><a class="headerlink" href="#baseprocessor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.backend.BaseProcessor">
<em class="property">class </em><code class="descclassname">mlens.parallel.backend.</code><code class="descname">BaseProcessor</code><span class="sig-paren">(</span><em>backend=None</em>, <em>n_jobs=None</em>, <em>verbose=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#BaseProcessor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.BaseProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Parallel processing base class.</p>
<p>Base class for parallel processing engines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – Type of backend. One of <code class="docutils literal"><span class="pre">'threading'</span></code>, <code class="docutils literal"><span class="pre">'multiprocessing'</span></code>,
<code class="docutils literal"><span class="pre">'sequential'</span></code>.</li>
<li><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – Degree of concurrency.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – Level of verbosity of the
<code class="xref py py-class docutils literal"><span class="pre">Parallel</span></code> instance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.backend.BaseProcessor.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#BaseProcessor.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.BaseProcessor.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroy cache and reset instance job parameters.</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.BaseProcessor.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>job</em>, <em>X</em>, <em>y</em>, <em>path</em>, <em>warm_start=False</em>, <em>return_preds=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#BaseProcessor.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.BaseProcessor.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize processing engine.</p>
<p>Set up the job parameters before an estimation call. Calling
<a class="reference internal" href="#mlens.parallel.backend.BaseProcessor.clear" title="mlens.parallel.backend.BaseProcessor.clear"><code class="xref py py-func docutils literal"><span class="pre">clear()</span></code></a>
undoes initialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to complete with each task. One of <code class="docutils literal"><span class="pre">'fit'</span></code>,
<code class="docutils literal"><span class="pre">'predict'</span></code> and <code class="docutils literal"><span class="pre">'transform'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
<li><strong>return_preds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – whether to return prediction ouput. If <code class="docutils literal"><span class="pre">True</span></code>, final prediction
is returned. Alternatively, pass a list of task names for which
output should be returned.</li>
<li><strong>warm_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to re-use previous input data initialization. Useful if
repeated jobs are made on the same input arrays.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional keyword arguments to pass onto the task’s call method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – An output parameter dictionary to pass to pass to an estimation
method. Either <code class="docutils literal"><span class="pre">None</span></code> (no output), or
<code class="docutils literal"><span class="pre">{'final':True}</span></code> for only final prediction, or
<code class="docutils literal"><span class="pre">{'final':</span> <span class="pre">False,</span> <span class="pre">'return_names':</span> <span class="pre">return_preds}</span></code> if a list of
task-specific output was passed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="parallelprocessing">
<h3><span class="hidden-section">ParallelProcessing</span><a class="headerlink" href="#parallelprocessing" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.backend.ParallelProcessing">
<em class="property">class </em><code class="descclassname">mlens.parallel.backend.</code><code class="descname">ParallelProcessing</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelProcessing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelProcessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.backend.BaseProcessor</span></code></a></p>
<p>Parallel processing engine.</p>
<p>Engine for running computational graph.</p>
<p><a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing" title="mlens.parallel.backend.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a> is a manager for executing a sequence of tasks
in a given caller, where each task is run sequentially, but assumed to be
parallelized internally. The main responsibility of
<a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing" title="mlens.parallel.backend.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a> is to handle memory-mapping, estimation
cache updates, input and output array updates and output collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>obj</em>) – the caller of the job. Either a Layer or a meta layer class
such as Sequential.</li>
<li><strong>*args</strong> (<em>optional</em>) – Optional arguments to <a class="reference internal" href="#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">BaseProcessor</span></code></a></li>
<li><strong>**kwargs</strong> (<em>optional</em>) – Optional keyword arguments to
<a class="reference internal" href="#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">BaseProcessor</span></code></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.backend.ParallelProcessing.get_preds">
<code class="descname">get_preds</code><span class="sig-paren">(</span><em>dtype=None</em>, <em>order='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelProcessing.get_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelProcessing.get_preds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prediction matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dtype</strong> (<em>numpy dtype object</em><em>, </em><em>optional</em>) – data type to return</li>
<li><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> (</em><em>default = 'C'</em><em>)</em>) – data order. See <code class="xref py py-class docutils literal"><span class="pre">numpy.asarray</span></code> for details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>P</strong> – Prediction array</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.ParallelProcessing.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>path=None</em>, <em>return_preds=False</em>, <em>wart_start=False</em>, <em>split=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelProcessing.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelProcessing.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel task mapping.</p>
<p>Run independent tasks in caller in parallel.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, the :~mlens.parallel.backend.ParallelProcessing.map` runs
on a shallow cache, where all tasks share the same cache. As such, the
user must ensure that each task has a unique name, or cache retrieval
will be corrupted. To commit a seperate sub-cache to each task, set
<code class="docutils literal"><span class="pre">split=True</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to complete with each task. One of <code class="docutils literal"><span class="pre">'fit'</span></code>,
<code class="docutils literal"><span class="pre">'predict'</span></code> and <code class="docutils literal"><span class="pre">'transform'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
<li><strong>return_preds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – whether to return prediction ouput. If <code class="docutils literal"><span class="pre">True</span></code>, final prediction
is returned. Alternatively, pass a list of task names for which
output should be returned.</li>
<li><strong>warm_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to re-use previous input data initialization. Useful if
repeated jobs are made on the same input arrays.</li>
<li><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = False</em>) – whether to commit a separate sub-cache to each task.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional keyword arguments to pass onto each task.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.ParallelProcessing.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>caller</em>, <em>out</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelProcessing.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelProcessing.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process job.</p>
<p>Main method for processing a caller. Requires the instance to be
setup by a prior call to
<a class="reference internal" href="#mlens.parallel.backend.BaseProcessor.initialize" title="mlens.parallel.backend.BaseProcessor.initialize"><code class="xref py py-func docutils literal"><span class="pre">initialize()</span></code></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing.map" title="mlens.parallel.backend.ParallelProcessing.map"><code class="xref py py-func docutils literal"><span class="pre">map()</span></code></a>,
<a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing.stack" title="mlens.parallel.backend.ParallelProcessing.stack"><code class="xref py py-func docutils literal"><span class="pre">stack()</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>out</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – A dictionary with output parameters. Pass an empty dict for no
output. See
<a class="reference internal" href="#mlens.parallel.backend.BaseProcessor.initialize" title="mlens.parallel.backend.BaseProcessor.initialize"><code class="xref py py-func docutils literal"><span class="pre">initialize()</span></code></a> for more
details.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.ParallelProcessing.stack">
<code class="descname">stack</code><span class="sig-paren">(</span><em>caller</em>, <em>job</em>, <em>X</em>, <em>y=None</em>, <em>path=None</em>, <em>return_preds=False</em>, <em>warm_start=False</em>, <em>split=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelProcessing.stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelProcessing.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Stacked parallel task mapping.</p>
<p>Run stacked tasks in caller in parallel.</p>
<p>This method runs a stack of tasks as a stack, where the output of
each task is the input to the next.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, the <a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing.stack" title="mlens.parallel.backend.ParallelProcessing.stack"><code class="xref py py-func docutils literal"><span class="pre">stack()</span></code></a>
method runs on a deep cache, where each tasks has a separate cache.
As such, the user must ensure that tasks don’t depend on data cached
by previous tasks. To run all tasks in a single sub-cache, set
<code class="docutils literal"><span class="pre">split=False</span></code>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable that generates accepted task instances. Caller should be
a child of the <a class="reference internal" href="#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">BaseBackend</span></code></a> class,
and tasks need to implement an appropriate call method.</li>
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of job to complete with each task. One of <code class="docutils literal"><span class="pre">'fit'</span></code>,
<code class="docutils literal"><span class="pre">'predict'</span></code> and <code class="docutils literal"><span class="pre">'transform'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
<li><strong>return_preds</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>, </em><em>optional</em>) – whether to return prediction output. If <code class="docutils literal"><span class="pre">True</span></code>, final prediction
is returned. Alternatively, pass a list of task names for which
output should be returned.</li>
<li><strong>warm_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to re-use previous input data initialization. Useful if
repeated jobs are made on the same input arrays.</li>
<li><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>, </em><em>default = True</em>) – whether to commit a separate sub-cache to each task.</li>
<li><strong>**kwargs</strong> (<em>optional</em>) – optional keyword arguments to pass onto each task.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> – Prediction array(s).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a>, optional</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="parallelevaluation">
<h3><span class="hidden-section">ParallelEvaluation</span><a class="headerlink" href="#parallelevaluation" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.backend.ParallelEvaluation">
<em class="property">class </em><code class="descclassname">mlens.parallel.backend.</code><code class="descname">ParallelEvaluation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelEvaluation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelEvaluation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.backend.BaseProcessor" title="mlens.parallel.backend.BaseProcessor"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.backend.BaseProcessor</span></code></a></p>
<p>Parallel cross-validation engine.</p>
<p>Minimal parallel processing engine. Similar to <a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing" title="mlens.parallel.backend.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a>,
but offers less features, only fits the <em>callers</em> indexer, and excepts
no task output.</p>
<dl class="method">
<dt id="mlens.parallel.backend.ParallelEvaluation.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>caller</em>, <em>case</em>, <em>X</em>, <em>y</em>, <em>path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#ParallelEvaluation.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.ParallelEvaluation.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Process caller.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>caller</strong> (<em>iterable</em>) – Iterable for evaluation job.s Expected caller is a
<code class="xref py py-class docutils literal"><span class="pre">Evaluator</span></code> instance.</li>
<li><strong>case</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – evaluation case to run on the evaluator. One of
<code class="docutils literal"><span class="pre">'preprocess'</span></code> and <code class="docutils literal"><span class="pre">'evaluate'</span></code>.</li>
<li><strong>X</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>, </em><em>n_features</em><em>]</em>) – Input data</li>
<li><strong>y</strong> (<em>array-like of shape</em><em> [</em><em>n_samples</em><em>,</em><em>]</em><em>, </em><em>optional.</em>) – targets. Required for fit, should not be passed to predict or
transform jobs.</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – Custom estimation cache. Pass a string to force use of persistent
cache on disk. Pass a <code class="docutils literal"><span class="pre">dict</span></code> for in-memory cache (requires
<code class="docutils literal"><span class="pre">backend</span> <span class="pre">!=</span> <span class="pre">'multiprocessing'</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="job">
<h3><span class="hidden-section">Job</span><a class="headerlink" href="#job" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.backend.Job">
<em class="property">class </em><code class="descclassname">mlens.parallel.backend.</code><code class="descname">Job</code><span class="sig-paren">(</span><em>job</em>, <em>stack</em>, <em>split</em>, <em>dir=None</em>, <em>tmp=None</em>, <em>predict_in=None</em>, <em>targets=None</em>, <em>predict_out=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Container class for holding and managing job data.</p>
<p><a class="reference internal" href="#mlens.parallel.backend.Job" title="mlens.parallel.backend.Job"><code class="xref py py-class docutils literal"><span class="pre">Job</span></code></a> is intended as a on-the-fly job handler that keeps track
of input data, predictions, and manages estimation caches.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 0.2.0.</span></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing" title="mlens.parallel.backend.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a>, <a class="reference internal" href="#mlens.parallel.backend.ParallelEvaluation" title="mlens.parallel.backend.ParallelEvaluation"><code class="xref py py-class docutils literal"><span class="pre">ParallelEvaluation</span></code></a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>job</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Type of job to run. One of <code class="docutils literal"><span class="pre">'fit'</span></code>, <code class="docutils literal"><span class="pre">'transform'</span></code>, <code class="docutils literal"><span class="pre">'predict'</span></code>.</li>
<li><strong>stack</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Whether to stack outputs when calls to
<a class="reference internal" href="#mlens.parallel.backend.Job.update" title="mlens.parallel.backend.Job.update"><code class="xref py py-func docutils literal"><span class="pre">update()</span></code></a> are made. This will make
the <code class="docutils literal"><span class="pre">predict_out</span></code> array become <code class="docutils literal"><span class="pre">predict_in</span></code>.</li>
<li><strong>split</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Whether to create a new sub-cache when the
<a class="reference internal" href="#mlens.parallel.backend.Job.args" title="mlens.parallel.backend.Job.args"><code class="xref py py-attr docutils literal"><span class="pre">args</span></code></a> property is called.</li>
<li><strong>dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>, </em><em>optional</em>) – estimation cache. Pass dictionary for use with multiprocessing or a
string pointing to the disk directory to create the cache in</li>
<li><strong>tmp</strong> (<em>obj</em><em>, </em><em>optional</em>) – a Tempfile object for temporary directories</li>
<li><strong>targets</strong> (<em>array-like of shape</em><em> [</em><em>n_in_samples</em><em>,</em><em>]</em><em>, </em><em>optional</em>) – input targets</li>
<li><strong>predict_in</strong> (<em>array-like of shape</em><em> [</em><em>n_in_samples</em><em>, </em><em>n_in_features</em><em>]</em><em>, </em><em>optional</em>) – input data</li>
<li><strong>predict_out</strong> (<em>array_like of shape</em><em> [</em><em>n_out_samples</em><em>, </em><em>n_out_features</em><em>]</em><em>, </em><em>optional</em>) – prediction output array</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.backend.Job.args">
<code class="descname">args</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.args" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce args dict</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.0.</span></p>
</div>
<p>Returns the arguments dictionary passed to a task of a parallel
processing manager. Output dictionary has the following form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">out</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;auxiliary&#39;</span><span class="p">:</span>
           <span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_in</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_out</span><span class="p">},</span>
       <span class="s1">&#39;main&#39;</span><span class="p">:</span>
           <span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_in</span><span class="p">,</span> <span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_out</span><span class="p">},</span>
       <span class="s1">&#39;dir&#39;</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">subdir</span><span class="p">(),</span>
       <span class="s1">&#39;job&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">job</span>
        <span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>**kwargs</strong> (<em>optional</em>) – Optional keyword arguments to pass to the task.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>args</strong> – Arguments dictionary</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.Job.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear output data for new task</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.Job.rebase">
<code class="descname">rebase</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.rebase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.rebase" title="Permalink to this definition">¶</a></dt>
<dd><p>Rebase output labels to input indexing.</p>
<p>Some indexers that only generate predictions for subsets of the
training data require the targets to be rebased. Since indexers
operate in a strictly sequential manner, rebase simply drop the first
<code class="docutils literal"><span class="pre">n</span></code> observations in the target vector until number of observations
remaining coincide.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">BlendIndex</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.Job.shuffle">
<code class="descname">shuffle</code><span class="sig-paren">(</span><em>random_state</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.shuffle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>Shuffle inputs.</p>
<p>Permutes the indexing of <code class="docutils literal"><span class="pre">predict_in</span></code> and <code class="docutils literal"><span class="pre">y</span></code> arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>obj</em>) – Random seed number or generator to use.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.Job.subdir">
<code class="descname">subdir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.subdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.subdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a cache subdirectory</p>
<p>If <code class="docutils literal"><span class="pre">split</span></code> is en force, a new sub-cache will be created in the
main cache. Otherwise the same sub-cache as used in previous call
will be returned.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.2.0.</span></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>cache</strong> – Either a string pointing to a cache persisted to disk, or an
in-memory cache in the form of a list.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.backend.Job.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#Job.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.Job.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updated output array and shift to input if stacked.</p>
<p>If stacking is en force, the output array will replace the input
array, and used as input for subsequent jobs. Sparse matrices are
force-converted to <code class="docutils literal"><span class="pre">csr</span></code> format.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dump-array">
<h3><span class="hidden-section">dump_array</span><a class="headerlink" href="#dump-array" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="mlens.parallel.backend.dump_array">
<code class="descclassname">mlens.parallel.backend.</code><code class="descname">dump_array</code><span class="sig-paren">(</span><em>array</em>, <em>name</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/backend.html#dump_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.backend.dump_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump array for memmapping.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>array</strong> (<em>array-like</em>) – Array to be persisted</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of file</li>
<li><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to cache.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>f</strong> – memory-mapped array.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array-like</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="base-classes">
<h2>Base classes<a class="headerlink" href="#base-classes" title="Permalink to this headline">¶</a></h2>
<p>Schedulers for global setups:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="38%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Order</th>
<th class="head">Setup types</th>
<th class="head">Function calls</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><ol class="first last arabic simple" start="0">
<li>Base setups</li>
</ol>
</td>
<td>Independent of other features</td>
<td>IndexMixin._setup_0_index</td>
</tr>
<tr class="row-odd"><td><ol class="first last arabic simple">
<li>Global setups</li>
</ol>
</td>
<td>Reserved for aggregating classes</td>
<td>BaseStacker._setup_1_global</td>
</tr>
<tr class="row-even"><td><ol class="first last arabic simple" start="2">
<li>General local</li>
</ol>
</td>
<td>Setups Dependents on 0</td>
<td>ProbaMixin.__setup_2_multiplier</td>
</tr>
<tr class="row-odd"><td><ol class="first last arabic simple" start="3">
<li>Conditional</li>
</ol>
</td>
<td>Setups Dependents on 0, 2</td>
<td>OutputMixin.__setup_3__output_columns</td>
</tr>
</tbody>
</table>
<p>Note that base classes and setup schedulers are experimental
and may change without a deprecation cycle.</p>
<div class="section" id="basebackend">
<h3><span class="hidden-section">BaseBackend</span><a class="headerlink" href="#basebackend" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.BaseBackend">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">BaseBackend</code><span class="sig-paren">(</span><em>backend=None</em>, <em>n_jobs=-1</em>, <em>dtype=None</em>, <em>raise_on_exception=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseBackend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Base class for parallel backend</p>
<p>Implements default backend settings.</p>
<dl class="attribute">
<dt id="mlens.parallel.base.BaseBackend.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mlens.parallel.base.BaseBackend.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="baseparallel">
<h3><span class="hidden-section">BaseParallel</span><a class="headerlink" href="#baseparallel" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.BaseParallel">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">BaseParallel</code><span class="sig-paren">(</span><em>name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseParallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseParallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.BaseBackend" title="mlens.parallel.base.BaseBackend"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseBackend</span></code></a></p>
<p>Base class for parallel objects</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – name of instance. Should be unique.</li>
<li><strong>backend</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><em>object</em></a><em> (</em><em>default = 'threading'</em><em>)</em>) – backend infrastructure to use during call to
<code class="xref py py-class docutils literal"><span class="pre">mlens.externals.joblib.Parallel</span></code>. See Joblib for further
documentation. To set global backend,
see <a class="reference internal" href="config.html#mlens.config.set_backend" title="mlens.config.set_backend"><code class="xref py py-func docutils literal"><span class="pre">set_backend()</span></code></a>.</li>
<li><strong>raise_on_exception</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = True</em><em>)</em>) – whether to issue warnings on soft exceptions or raise error.
Examples include lack of layers, bad inputs, and failed fit of an
estimator in a layer. If set to <code class="docutils literal"><span class="pre">False</span></code>, warnings are issued instead
but estimation continues unless exception is fatal. Note that this
can result in unexpected behavior unless the exception is anticipated.</li>
<li><strong>verbose</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em> (</em><em>default = False</em><em>)</em>) – level of verbosity.</li>
<li><strong>n_jobs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> (</em><em>default = -1</em><em>)</em>) – Degree of concurrency in estimation. Set to -1 to maximize,
1 runs on a single process (or thread).</li>
<li><strong>dtype</strong> (<em>obj</em><em> (</em><em>default = np.float32</em><em>)</em>) – data type to use, must be compatible with a numpy array dtype.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="mlens.parallel.base.BaseParallel.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseParallel.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseParallel.__iter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator for process manager</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.BaseParallel.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>job</em>, <em>skip=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseParallel.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseParallel.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup instance for estimation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="baseestimator">
<h3><span class="hidden-section">BaseEstimator</span><a class="headerlink" href="#baseestimator" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.BaseEstimator">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">BaseEstimator</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseEstimator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseEstimator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.ParamMixin" title="mlens.parallel.base.ParamMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.ParamMixin</span></code></a>, <code class="xref py py-class docutils literal"><span class="pre">mlens.externals.sklearn.base.BaseEstimator</span></code>, <a class="reference internal" href="#mlens.parallel.base.BaseParallel" title="mlens.parallel.base.BaseParallel"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseParallel</span></code></a></p>
<p>Base Parallel Estimator class</p>
<p>Modified Scikit-learn class to handle backend params that we want to
protect from changes.</p>
<dl class="attribute">
<dt id="mlens.parallel.base.BaseEstimator.__fitted__">
<code class="descname">__fitted__</code><a class="headerlink" href="#mlens.parallel.base.BaseEstimator.__fitted__" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit status</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="basestacker">
<h3><span class="hidden-section">BaseStacker</span><a class="headerlink" href="#basestacker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.BaseStacker">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">BaseStacker</code><span class="sig-paren">(</span><em>stack=None</em>, <em>verbose=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseStacker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseStacker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.BaseEstimator" title="mlens.parallel.base.BaseEstimator"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.BaseEstimator</span></code></a></p>
<p>Base class for instanes that stack job estimators</p>
<dl class="attribute">
<dt id="mlens.parallel.base.BaseStacker.__fitted__">
<code class="descname">__fitted__</code><a class="headerlink" href="#mlens.parallel.base.BaseStacker.__fitted__" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitted status</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.base.BaseStacker.__stack__">
<code class="descname">__stack__</code><a class="headerlink" href="#mlens.parallel.base.BaseStacker.__stack__" title="Permalink to this definition">¶</a></dt>
<dd><p>Check stack</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.BaseStacker.get_params">
<code class="descname">get_params</code><span class="sig-paren">(</span><em>deep=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseStacker.get_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseStacker.get_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Get parameters for this estimator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deep</strong> (<em>boolean</em><em>, </em><em>optional</em>) – whether to return nested parameters.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.BaseStacker.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><em>idx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseStacker.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseStacker.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pop a previous push with index idx</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.BaseStacker.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>*stack</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseStacker.push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseStacker.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Push onto stack</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.BaseStacker.replace">
<code class="descname">replace</code><span class="sig-paren">(</span><em>idx</em>, <em>item</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#BaseStacker.replace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.BaseStacker.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace a current member of the stack with a new instance</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.base.BaseStacker.verbose">
<code class="descname">verbose</code><a class="headerlink" href="#mlens.parallel.base.BaseStacker.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Verbosity</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="mixins">
<h2>Mixins<a class="headerlink" href="#mixins" title="Permalink to this headline">¶</a></h2>
<div class="section" id="parammixin">
<h3><span class="hidden-section">ParamMixin</span><a class="headerlink" href="#parammixin" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.ParamMixin">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">ParamMixin</code><a class="reference internal" href="_modules/mlens/parallel/base.html#ParamMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.ParamMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">mlens.externals.sklearn.base.BaseEstimator</span></code>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Parameter Mixin</p>
<p>Mixin for protecting static parameters from changes after fitting.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use this mixin the instance inheriting it must set
<code class="docutils literal"><span class="pre">__static__=list()</span></code> and <code class="docutils literal"><span class="pre">_static_fit_params_=dict()</span></code>
in <code class="docutils literal"><span class="pre">__init__</span></code>.</p>
</div>
<dl class="method">
<dt id="mlens.parallel.base.ParamMixin._check_static_params">
<code class="descname">_check_static_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#ParamMixin._check_static_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.ParamMixin._check_static_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if current static params are identical to previous params</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.ParamMixin._store_static_params">
<code class="descname">_store_static_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#ParamMixin._store_static_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.ParamMixin._store_static_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Record current static params for future comparison.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="indexmixin">
<h3><span class="hidden-section">IndexMixin</span><a class="headerlink" href="#indexmixin" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.IndexMixin">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">IndexMixin</code><a class="reference internal" href="_modules/mlens/parallel/base.html#IndexMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.IndexMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Indexer mixin</p>
<p>Mixin for handling indexers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>To use this mixin the instance inheriting it must set the</dt>
<dd><code class="docutils literal"><span class="pre">indexer</span></code> or <code class="docutils literal"><span class="pre">indexers</span></code> attribute in <code class="docutils literal"><span class="pre">__init__</span></code> (not both).</dd>
</dl>
</div>
<dl class="attribute">
<dt id="mlens.parallel.base.IndexMixin.__indexer__">
<code class="descname">__indexer__</code><a class="headerlink" href="#mlens.parallel.base.IndexMixin.__indexer__" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag for existence of indexer</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.base.IndexMixin.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mlens.parallel.base.IndexMixin.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.IndexMixin._check_indexer">
<code class="descname">_check_indexer</code><span class="sig-paren">(</span><em>indexer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#IndexMixin._check_indexer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.IndexMixin._check_indexer" title="Permalink to this definition">¶</a></dt>
<dd><p>Check consistent indexer classes</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.IndexMixin._get_indexers">
<code class="descname">_get_indexers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#IndexMixin._get_indexers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.IndexMixin._get_indexers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of indexers</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="outputmixin">
<h3><span class="hidden-section">OutputMixin</span><a class="headerlink" href="#outputmixin" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.OutputMixin">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">OutputMixin</code><a class="reference internal" href="_modules/mlens/parallel/base.html#OutputMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.OutputMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mlens.parallel.base.IndexMixin" title="mlens.parallel.base.IndexMixin"><code class="xref py py-class docutils literal"><span class="pre">mlens.parallel.base.IndexMixin</span></code></a></p>
<p>Output Mixin</p>
<p>Mixin class for interfacing with ParallelProcessing when outputs are
desired.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use this mixin the instance inheriting it must set the
<code class="docutils literal"><span class="pre">feature_span</span></code> attribute and <code class="docutils literal"><span class="pre">__no_output__</span></code> flag in <code class="docutils literal"><span class="pre">__init__</span></code>.</p>
</div>
<dl class="method">
<dt id="mlens.parallel.base.OutputMixin._setup_3_output_columns">
<code class="descname">_setup_3_output_columns</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>job</em>, <em>n_left_concats=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#OutputMixin._setup_3_output_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.OutputMixin._setup_3_output_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Set output columns for prediction array. Used during setup</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.OutputMixin.set_output_columns">
<code class="descname">set_output_columns</code><span class="sig-paren">(</span><em>X</em>, <em>y</em>, <em>job</em>, <em>n_left_concats=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#OutputMixin.set_output_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.OutputMixin.set_output_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Set output columns for prediction array</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.OutputMixin.shape">
<code class="descname">shape</code><span class="sig-paren">(</span><em>job</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#OutputMixin.shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.OutputMixin.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Prediction array shape</p>
</dd></dl>

<dl class="method">
<dt id="mlens.parallel.base.OutputMixin.size">
<code class="descname">size</code><span class="sig-paren">(</span><em>attr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mlens/parallel/base.html#OutputMixin.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.OutputMixin.size" title="Permalink to this definition">¶</a></dt>
<dd><p>Get size of dim 0</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="probamixin">
<h3><span class="hidden-section">ProbaMixin</span><a class="headerlink" href="#probamixin" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="mlens.parallel.base.ProbaMixin">
<em class="property">class </em><code class="descclassname">mlens.parallel.base.</code><code class="descname">ProbaMixin</code><a class="reference internal" href="_modules/mlens/parallel/base.html#ProbaMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#mlens.parallel.base.ProbaMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>“Probability Mixin</p>
<p>Mixin for probability features on objects
interfacing with <a class="reference internal" href="#mlens.parallel.backend.ParallelProcessing" title="mlens.parallel.backend.ParallelProcessing"><code class="xref py py-class docutils literal"><span class="pre">ParallelProcessing</span></code></a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To use this mixin the instance inheriting it must set the <code class="docutils literal"><span class="pre">proba</span></code>
and the <code class="docutils literal"><span class="pre">_classes(=None)``attribute</span> <span class="pre">in</span> <span class="pre">``__init__</span></code>.</p>
</div>
<dl class="attribute">
<dt id="mlens.parallel.base.ProbaMixin.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#mlens.parallel.base.ProbaMixin.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="attribute">
<dt id="mlens.parallel.base.ProbaMixin.classes_">
<code class="descname">classes_</code><a class="headerlink" href="#mlens.parallel.base.ProbaMixin.classes_" title="Permalink to this definition">¶</a></dt>
<dd><p>Prediction classes during proba</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Sebastian Flennerhag.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>